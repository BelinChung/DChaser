jQuery(document).ready(function(a){function c(b){a(".jcarousel-control a").bind("click",function(){return b.scroll(jcarousel.intval(this.text())),!1}),a("#project-next").bind("click",function(){return b.next(),!1}),a("#project-prev").bind("click",function(){return b.prev(),!1})}function d(b){a(".jcarousel-control a").bind("click",function(){return b.scroll(jcarousel.intval(this.text())),!1}),a("#blog-next").bind("click",function(){return b.next(),!1}),a("#blog-prev").bind("click",function(){return b.prev(),!1})}function f(){e=a(window).width()<480?1:a(window).width()<768?1:a(window).width()<960?2:3}function g(b){b.each(function(){var b=a(this);b.jcarousel({animation:600,easing:"easeOutCubic",scroll:e})})}function h(){b.each(function(){var b=a(this),c=b.children("li");if(newWidth=c.length*c.first().outerWidth(!0)+100,f(),b.width()!==newWidth){b.css("width",newWidth).data("resize","true"),g(b),b.jcarousel("scroll",1);var d=window.setTimeout(function(){window.clearTimeout(d),b.data("resize",null)},600)}})}function f(){e=a(window).width()<480?1:a(window).width()<768?2:a(window).width()<960?3:4}function g(b){b.each(function(){var b=a(this);b.jcarousel({animation:600,easing:"easeOutCubic",scroll:e})})}function h(){i.each(function(){var b=a(this),c=b.children("li");if(newWidth=c.length*c.first().outerWidth(!0)+100,f(),b.width()!==newWidth){b.css("width",newWidth).data("resize","true"),g(b),b.jcarousel("scroll",1);var d=window.setTimeout(function(){window.clearTimeout(d),b.data("resize",null)},600)}})}a("input, textarea").bind("focusin",function(){a(this).val()==a(this).attr("default-value")&&a(this).val("")}),a("input, textarea").bind("focusout",function(){""==a(this).val()&&a(this).val(a(this).attr("default-value"))}),a(".sf-menu").superfish({delay:200,animation:{opacity:"show",height:"show"},speed:"fast",autoArrows:!1,dropShadows:!1}),a("#main-slider").flexslider({namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:""}),a("#image-slider").flexslider({namespace:"flex-",selector:".slides > li",animation:"slide",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!1,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!1,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:""});var b=a("#project-wrapper, #blog-wrapper");if(a("#project-wrapper").jcarousel({initCallback:c,buttonNextHTML:null,buttonPrevHTML:null}),a("#blog-wrapper").jcarousel({initCallback:d,buttonNextHTML:null,buttonPrevHTML:null}),b.length){var e;f(),g(b),a(window).on("resize",function(){var a=window.setTimeout(function(){window.clearTimeout(a),h()},30)})}var i=a("#project-wrapper-alt");if(i.length){var e;f(),g(i),a(window).on("resize",function(){var a=window.setTimeout(function(){window.clearTimeout(a),h()},30)})}a("#accordion").accordion({speed:500,closedSign:"<i class='accordion-btn accordion-close'>\u5173\u95ed</i>",openedSign:"<i class='accordion-btn accordion-open'>\u5f00\u542f</i>"}),a("#tabs li").click(function(){a("#tabs li").removeClass("active"),a(this).addClass("active"),a(".tab-content").hide();var b=a(this).find("a").attr("href");return a(b).fadeIn(),!1}),a("#tabs").each(function(){var b=a(this);b.next().children(".tab-content").stop(!0,!0).hide().first().show(),b.children("li").first().addClass("active").stop(!0,!0).show()}),a(window).load(function(){var b=a(".project-feed"),c=a(".project-feed-filter");b.isotope({filter:"*",layoutMode:"fitRows",animationOptions:{duration:750,easing:"linear"}}),c.find("a").click(function(){var d=a(this).attr("data-filter");return c.find("a").removeClass("current"),a(this).addClass("current"),b.isotope({filter:d,animationOptions:{animationDuration:750,easing:"linear",queue:!1}}),!1})});var j=a("#contact-form"),k="<strong>Success!</strong> Your message was sent.";j.submit(function(){return a.ajax({type:"POST",url:"php/contact.php",data:a(this).serialize(),success:function(b){response="SEND"==b?'<div class="success">'+k+"</div>":'<div class="error">'+b+"</div>",a(".error,.success").remove(),j.prepend(response)}}),!1});var l="",m=a('<div class="backToTop"></div>').appendTo(a("body")).text(l).attr("title",l).click(function(){a("html, body").animate({scrollTop:0},120)}),n=function(){var b=a(document).scrollTop(),c=a(window).height();b>0?m.show():m.hide(),window.XMLHttpRequest||m.css("top",b+c-166)};a(window).bind("scroll",n),a(function(){n()})});